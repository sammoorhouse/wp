/*! 
 * BuddyBoss Theme JavaScript Library 
 * @package BuddyBoss Theme 
 */
jQuery(function(s){function i(e,r,p){var o={action:e,nonce:r};s.each(p,function(e,r){"action"===r.name?o.bbp_reply_form_action=r.value:o[r.name]=r.value}),s.post(window.bbpReplyAjaxJS.bbp_ajaxurl,o,function(e){if(e.success){s(".bbp-reply-form form").removeClass("submitting");var r="";if("edit"===e.reply_type)r='<li class="highlight">'+e.content+"</li>",s("#post-"+e.reply_id).parent("li").replaceWith(r);else if(window.bbpReplyAjaxJS.threaded_reply&&e.reply_parent&&e.reply_parent!==e.reply_id){var p=null,o="1";if(s("#post-"+e.reply_parent).parent("li").data("depth")==window.bbpReplyAjaxJS.threaded_reply_depth){var i=parseInt(window.bbpReplyAjaxJS.threaded_reply_depth)-1;p=s("#post-"+e.reply_parent).closest("li.depth-"+i),o=window.bbpReplyAjaxJS.threaded_reply_depth}else p=s("#post-"+e.reply_parent).parent("li"),o=parseInt(p.data("depth"))+1;var t="ul";s(".bb-single-reply-list").is("ol")&&(t="ol"),p.find(">"+t+".bbp-threaded-replies").length||p.append("<"+t+' class="bbp-threaded-replies"></'+t+">"),r='<li class="highlight depth-'+o+'" data-depth="'+o+'">'+e.content+"</li>",p.find(">"+t+".bbp-threaded-replies").append(r)}else r='<li class="highlight depth-1" data-depth="1">'+e.content+"</li>",s(".bb-single-reply-list").append(r);if(""!==e.tags){var a=s("body .item-tags"),n=s("body .item-tags ul");"none"===a.css("display")?(a.append(e.tags),a.show()):(n.remove(),a.append(e.tags))}if(""!=r&&(s("body").animate({scrollTop:s(r).offset().top},500),setTimeout(function(){s(r).removeClass("highlight")},2e3)),"undefined"!=typeof bp&&void 0!==bp.Nouveau&&void 0!==bp.Nouveau.Media&&void 0!==bp.Nouveau.Media.dropzone_media&&bp.Nouveau.Media.dropzone_media.length)for(var l=0;l<bp.Nouveau.Media.dropzone_media.length;l++)bp.Nouveau.Media.dropzone_media[l].saved=!0;!function(){void 0!==window.forums_medium_reply_editor&&window.forums_medium_reply_editor.resetContent();jQuery("#bbp_editor_reply_content").removeClass("error"),s("#bbp-close-btn").trigger("click"),s("#bbp_reply_content").val(""),"undefined"!=typeof bp&&void 0!==bp.Nouveau&&void 0!==bp.Nouveau.Media&&(bp.Nouveau.Media.resetForumsGifComponent(),bp.Nouveau.Media.resetForumsMediaComponent())}();var d=s(".scrubberpost");for(var b in d)if(s(d[b]).hasClass("post-"+e.reply_id)){window.BuddyBossThemeBbpScrubber.goToPost(parseInt(b,10)+1,"");break}}else console.log(e),e.content||(e.content=window.bbpReplyAjaxJS.generic_ajax_error),console.log(e.content);s(".bbp-reply-form form").removeClass("submitting")})}s("body").hasClass("reply-edit")||s(".bbp-reply-form form").on("submit",function(e){if(e.preventDefault(),s(this).hasClass("submitting"))return!1;s(this).addClass("submitting");var r=!0,p=!0,o=!1;void 0!==window.forums_medium_reply_editor&&(o=window.forums_medium_reply_editor),(0<s(".bbp-reply-form form").find("#bbp_media").length&&0<s(".bbp-reply-form form").find("#bbp_media_gif").length&&""==s(".bbp-reply-form form").find("#bbp_media").val()&&""==s(".bbp-reply-form form").find("#bbp_media_gif").val()||0<s(".bbp-reply-form form").find("#bbp_media").length&&s(".bbp-reply-form form").find("#bbp_media_gif").length<=0&&""==s(".bbp-reply-form form").find("#bbp_media").val()||0<s(".bbp-reply-form form").find("#bbp_media_gif").length&&s(".bbp-reply-form form").find("#bbp_media").length<=0&&""==s(".bbp-reply-form form").find("#bbp_media_gif").val())&&(p=!1),o&&""===s.trim(o.getContent().replace("<p><br></p>",""))&&0==p?(jQuery("#bbp_editor_reply_content").addClass("error"),r=!1):o||""!==s.trim(s(".bbp-reply-form form").find("#bbp_reply_content").val())||0!=p?(o&&jQuery("#bbp_editor_reply_content").removeClass("error"),s(".bbp-reply-form form").find("#bbp_reply_content").removeClass("error")):(s(".bbp-reply-form form").find("#bbp_reply_content").addClass("error"),r=!1),r?i("reply",window.bbpReplyAjaxJS.reply_nonce,s(this).serializeArray()):s(this).removeClass("submitting")})});